{"ast":null,"code":"import _defineProperty from\"/Users/Joseph/Master/Programming/FlightSchool/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/Joseph/Master/Programming/FlightSchool/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Joseph/Master/Programming/FlightSchool/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/Joseph/Master/Programming/FlightSchool/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/Joseph/Master/Programming/FlightSchool/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/Joseph/Master/Programming/FlightSchool/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';// Material UI Imports\nimport withStyles from'@material-ui/core/styles/withStyles';import Grid from'@material-ui/core/Grid';import Typography from'@material-ui/core/Typography';import TextField from'@material-ui/core/TextField';import Button from'@material-ui/core/Button';import CircularProgress from'@material-ui/core/CircularProgress';// redux imports\nimport{connect}from'react-redux';import{loginUser}from'../../redux/actions/userActions';// CSS imports\nimport'../css/App.css';var styles={form:{textAlign:'center'},pageTitle:{margin:'20px auto 20px auto'},textField:{margin:'20px auto 20px auto'},button:{margin:'40px auto 0px auto',position:'relative'},customError:{color:'red',fontSize:'0.8rem',marginTop:'20'},progress:{position:'absolute'}};var SignIn=/*#__PURE__*/function(_React$Component){_inherits(SignIn,_React$Component);function SignIn(){var _this;_classCallCheck(this,SignIn);_this=_possibleConstructorReturn(this,_getPrototypeOf(SignIn).call(this));_this.handleSubmit=function(event){event.preventDefault();var userData={email:_this.state.email,password:_this.state.password};// login via redux\n_this.props.loginUser(userData,_this.props.history);};_this.handleChange=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.handleSignUp=function(event){_this.props.history.push('/signup');};_this.state={email:'',password:'',errors:{},emailError:'',passwordError:''};return _this;}_createClass(SignIn,[{key:\"render\",value:function render(){var _this$props=this.props,classes=_this$props.classes,loading=_this$props.UI.loading;var _this$state=this.state,errors=_this$state.errors,emailError=_this$state.emailError,passwordError=_this$state.passwordError;return React.createElement(Grid,{container:true,className:classes.form},React.createElement(Grid,{item:true,sm:true}),React.createElement(Grid,{item:true,sm:true},React.createElement(Typography,{variant:\"h2\",className:classes.pageTitle},\"Flight School\"),React.createElement(Typography,{variant:\"h4\",className:classes.pageTitle},\"Log In\"),React.createElement(\"form\",{noValidate:true,onSubmit:this.handleSubmit},React.createElement(TextField,{id:\"email\",name:\"email\",type:\"email\",label:\"Email\",variant:\"outlined\",className:classes.textField,helperText:emailError,error:emailError?true:false,value:this.state.email,onChange:this.handleChange,fullWidth:true}),React.createElement(TextField,{id:\"password\",name:\"password\",type:\"password\",label:\"Password\",variant:\"outlined\",className:classes.textField,helperText:passwordError,error:passwordError?true:false,value:this.state.password,onChange:this.handleChange,fullWidth:true}),errors&&errors.general&&React.createElement(Typography,{variant:\"body2\",className:classes.customError},errors.general),React.createElement(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",className:classes.button,fullWidth:true,disabled:loading},\"Log In\",loading&&React.createElement(CircularProgress,{size:26,className:classes.progress})),React.createElement(Button,{variant:\"contained\",color:\"secondary\",onClick:this.handleSignUp,className:classes.button,fullWidth:true},\"Sign Up\"))),React.createElement(Grid,{item:true,sm:true}));}},{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){console.log(nextProps.UI.errors);if(nextProps.UI.errors){this.setState({errors:nextProps.UI.errors});if(nextProps.UI.errors.errors&&nextProps.UI.errors.errors.email){this.setState({emailError:nextProps.UI.errors.errors.email});}else{this.setState({emailError:null});}if(nextProps.UI.errors.errors&&nextProps.UI.errors.errors.password){this.setState({passwordError:nextProps.UI.errors.errors.password});}else{this.setState({passwordError:null});}}else{this.setState({errors:null});}}}]);return SignIn;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{user:state.user,UI:state.UI};};var mapActionsToProps={loginUser:loginUser};export default connect(mapStateToProps,mapActionsToProps)(withStyles(styles)(SignIn));","map":{"version":3,"sources":["/Users/Joseph/Master/Programming/FlightSchool/src/view/page/Signin.js"],"names":["React","withStyles","Grid","Typography","TextField","Button","CircularProgress","connect","loginUser","styles","form","textAlign","pageTitle","margin","textField","button","position","customError","color","fontSize","marginTop","progress","SignIn","handleSubmit","event","preventDefault","userData","email","state","password","props","history","handleChange","setState","target","name","value","handleSignUp","push","errors","emailError","passwordError","classes","loading","UI","general","nextProps","console","log","Component","mapStateToProps","user","mapActionsToProps"],"mappings":"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","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types';\n\n// Material UI Imports\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\n// redux imports\nimport { connect } from 'react-redux';\nimport { loginUser } from '../../redux/actions/userActions';\n\n// CSS imports\nimport '../css/App.css'\n\nconst styles = {\n    form: {\n        textAlign: 'center'\n    },\n    pageTitle: {\n        margin: '20px auto 20px auto'\n    },\n    textField: {\n        margin: '20px auto 20px auto'\n    },\n    button: {\n        margin: '40px auto 0px auto',\n        position: 'relative'\n    },\n    customError: {\n        color: 'red',\n        fontSize: '0.8rem', \n        marginTop: '20'\n    },\n    progress: {\n        position: 'absolute',\n    }\n};\n\nclass SignIn extends React.Component {\n\n    constructor() {\n        super();\n        this.state = {\n            email: '',\n            password: '',\n            errors: {},\n            emailError: '',\n            passwordError: ''\n        };\n    }\n\n    render() {\n        const { classes, UI: { loading } } = this.props;\n        const { errors, emailError, passwordError } = this.state;\n\n        return (\n            <Grid container className={classes.form}>\n                <Grid item sm/>\n                <Grid item sm>\n                    <Typography variant=\"h2\" className={classes.pageTitle}>\n                        Flight School\n                    </Typography>\n                    <Typography variant=\"h4\" className={classes.pageTitle}>\n                        Log In\n                    </Typography>\n                    <form noValidate onSubmit={this.handleSubmit} >\n                        <TextField \n                            id='email' \n                            name='email' \n                            type='email' \n                            label='Email'\n                            variant='outlined' \n                            className={classes.textField} \n                            helperText={emailError}\n                            error={emailError ? true : false}\n                            value={this.state.email} \n                            onChange={this.handleChange} \n                            fullWidth\n                        />\n                        <TextField \n                            id='password' \n                            name='password' \n                            type='password' \n                            label='Password'\n                            variant='outlined'  \n                            className={classes.textField} \n                            helperText={passwordError}\n                            error={passwordError ? true : false}\n                            value={this.state.password} \n                            onChange={this.handleChange} \n                            fullWidth\n                        />\n                        {errors && errors.general && (\n                            <Typography variant='body2' className={classes.customError}>\n                                {errors.general}\n                            </Typography>\n                        )}\n                        <Button type='submit'variant='contained' color='primary' className={classes.button} fullWidth disabled={loading}>\n                            Log In\n                            {loading && (\n                                <CircularProgress size={26} className={classes.progress} />\n                            )}\n                        </Button>\n                        <Button variant='contained' color='secondary' onClick={this.handleSignUp} className={classes.button} fullWidth>\n                            Sign Up\n                        </Button>\n                    </form>\n                </Grid>\n                <Grid item sm/>\n            </Grid>\n        );\n    }\n\n    componentWillReceiveProps(nextProps) {\n        console.log(nextProps.UI.errors);\n        if(nextProps.UI.errors) {\n            this.setState({\n                errors: nextProps.UI.errors\n            });\n\n            if(nextProps.UI.errors.errors && nextProps.UI.errors.errors.email) {\n                this.setState({\n                    emailError: nextProps.UI.errors.errors.email\n                })\n            } else {\n                this.setState({\n                    emailError: null\n                });\n            }\n\n            if(nextProps.UI.errors.errors && nextProps.UI.errors.errors.password) {\n                this.setState({\n                    passwordError: nextProps.UI.errors.errors.password\n                });\n            } else {\n                this.setState({\n                    passwordError: null\n                });\n            }\n        } else {\n            this.setState({\n                errors: null\n            });\n        }\n    }\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n        const userData = {\n            email: this.state.email,\n            password: this.state.password\n        };\n\n        // login via redux\n        this.props.loginUser(userData, this.props.history);        \n    }\n\n    handleChange = (event) => {\n        this.setState({\n            [event.target.name]: event.target.value\n        });\n    }\n\n    handleSignUp = (event) => {\n        this.props.history.push('/signup');\n    }\n}\n\nSignIn.propTypes = {\n    classes: PropTypes.object.isRequired,\n    loginUser: PropTypes.func.isRequired,\n    user: PropTypes.object.isRequired,\n    UI: PropTypes.object.isRequired\n}\n\nconst mapStateToProps = (state) => ({\n    user: state.user,\n    UI: state.UI\n});\n\nconst mapActionsToProps = {\n    loginUser\n}\n\n\nexport default connect(mapStateToProps, mapActionsToProps)(withStyles(styles)(SignIn));"]},"metadata":{},"sourceType":"module"}